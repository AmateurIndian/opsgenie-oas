##################### ENUM ###################

MaintenanceType:
  type: string
  enum: &MaintenanceType
    - for-5-minutes
    - for-30-minutes
    - for-1-hour
    - indefinitely
    - schedule

Status:
  type: string
  enum: &Status
     - enabled
     - disabled

MaintenanceEntityType:
  type: string
  description: Type of the maintenance entity
  enum: &MaintenanceEntityType
    - policy
    - integration

MaintenanceStatus:
  type: string
  enum: &MaintenanceStatus
    - cancelled
    - past
    - active
    - planned

CreateMaintenanceRequest:
  type: object
  required:
    - time
    - rules
  properties:
    description:
      type: string
      description: Description for the maintenance
    time:
      $ref: '#/definitions/MaintenanceTime'
    rules:
      type: array
      minItems: 1
      description: Rules of maintenance, which takes a list of rule objects and defines the maintenance rules over integrations and policies.
      items:
        $ref: '#/definitions/MaintenanceRule'

MaintenanceTime:
  type: object
  required:
    - type
  properties:
    type:
      type: string
      description: Type of the maintenance time
      enum: *MaintenanceType
#        - for-5-minutes
#        - for-30-minutes
#        - for-1-hour
#        - indefinitely
#        - schedule
    startDate:
      type: string
      format: date-time
      description: Start time of the time configuration of maintenance
    endDate:
      type: string
      format: date-time
      description: End time of the time configuration of maintenance

MaintenanceRule:
  type: object
  required:
    - entity
  properties:
    state:
      type: string
      description: Defines the state of the rule
      enum: *Status
#        - enabled
#        - disabled
    entity:
      $ref: '#/definitions/MaintenanceEntity'

MaintenanceEntity:
  type: object
  required:
    - id
    - type
  properties:
    id:
      type: string
      description: Identifier of the maintenance entity
    type:
      type: string
      enum: *MaintenanceEntityType
#        - policy
#        - integration

##############################################################################

MaintenanceMetaResponse:
  type: object
  allOf:
    - $ref: '#/definitions/BaseResponse'
    - properties:
        data:
          $ref: '#/definitions/MaintenanceMeta'

MaintenanceMeta:
  type: object
  properties:
    id:
      type: string
      description: Identifier of the maintenance meta data
    status:
      type: string
      description: Status of the maintenance meta data
      enum: *MaintenanceStatus
#        - cancelled
#        - past
#        - active
#        - planned
    time:
      $ref: '#/definitions/MaintenanceTime'
    description:
      type: string
      description: Description for maintenance meta data

MaintenanceResponse:
  type: object
  allOf:
    - $ref: '#/definitions/BaseResponse'
    - properties:
        data:
          $ref: '#/definitions/Maintenance'

Maintenance:
  type: object
  properties:
    id:
      type: string
      description: Identifier of the maintenance meta data
    status:
      type: string
      description: Status of the maintenance data
      enum: *MaintenanceStatus
#        - cancelled
#        - past
#        - active
#        - planned
    rules:
      type: array
      description: Rules of maintenance, which takes a list of rule objects and defines the maintenance rules over integrations and policies.
      items:
        $ref: '#/definitions/MaintenanceRule'
    time:
      $ref: '#/definitions/MaintenanceTime'
    description:
      type: string
      description: Description for maintenance  data

MaintenanceListResponse:
  type: object
  allOf:
    - $ref: '#/definitions/BaseResponse'
    - properties:
        data:
          type: array
          items:
            $ref: '#/definitions/MaintenanceMeta'
        paging:
          $ref: '#/definitions/Paging'