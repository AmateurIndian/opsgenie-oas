##################
#     REQUEST    #
##################
CreateUserNotificationStepPayload:
  type: object
  required:
    - contact
    - sendAfter
    - enabled
  properties:
    contact:
      $ref: '#/definitions/ContactMeta'
      description: The contact that notification will be sent to.
    sendAfter:
      $ref: '#/definitions/Duration'
      description: Time period (in minute) when notification will be sent after.
    enabled:
      type: boolean
      description: Specifies whether given step will be enabled or not when it is created.

UpdateUserNotificationStepPayload:
  type: object
  required:
    - contact
    - sendAfter
    - enabled
  properties:
    contact:
      $ref: '#/definitions/ContactMeta'
      description: The contact that notification will be sent to.
    sendAfter:
      $ref: '#/definitions/Duration'
      description: Time period (in minute) when notification will be sent after.
    enabled:
      type: boolean
      description: Specifies whether given step will be enabled or not when it is updated.
##################
#    RESPONSE    #
##################
ListNotificationRuleStep:
  type: object
  allOf:
    - $ref: '#/definitions/BaseResponse'
    - properties:
        data:
          type: array
          items:
            $ref: '#/definitions/NotificationRuleStep'

GetNotificationRuleStepResponse:
  type: object
  allOf:
    - $ref: '#/definitions/BaseResponse'
    - properties:
        data:
          $ref: '#/definitions/NotificationRuleStep'

##################
#      MODEL     #
##################
ContactMeta:
  type: object
  required:
    - method
    - to
  properties:
    method:
      type: string
      enum:
        - email
        - sms
        - voice
        - mobile
        - invalid
    to:
      type: string

NotificationRuleParent:
  type: object
  properties:
    name:
      type: string
    id:
      type: string

NotificationRuleStep:
  type: object
  properties:
    _parent:
      $ref: '#/definitions/NotificationRuleParent'
    id:
      type: string
    sendAfter:
      $ref: '#/definitions/Duration'
    contact:
      $ref: '#/definitions/ContactMeta'
    enabled:
      type: boolean
